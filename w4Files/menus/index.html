<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/home.css">
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
</head>
<body>
    <nav><a href="index.html">HOME</a></nav>
    <main>
        <section class="blank"></section>
        <section id="content">
            <div id="menus">
            <!--Use createElement and appendElement to make the menu that reflects what the commented html looks like
            d
            when the start button is pressed:
            1. remove the start menu
            2. append the new menu-->

           

            <!-- This is what your final HMTL will look like.
                <div id="start-options">
                    <button data-load="false">New Game</button> NOTE: Will redirect to lobby.html and send load=false
                    <button data-load="true">Continue</button> NOTE: Will redirect to lobby.html and send load=true
                    <button>High Scores</button> NOTE: Will redirect to hs.html
                </div>
            -->
            </div>
        </section>
        <section class="blank"></section>
    </main>
    <script src="js/User.js"></script>
    <script>

        /*
        Use createElement and appendElement to make the menu that reflects what the commented html looks like
            d
            when the start button is pressed:
            1. remove the start menu
            2. append the new menu-
        */

        /*
        
        in this assignment when the start button is clicked you will fade it out using jquery functions and fade in the new menu once the fadeout is completed

        instructions:
        1. in the click for the start button the removeChild function will go in the jquery animate callback
        2. the call back will append the new menu and animate it from an opacity of 0 to 1
        
        */







        var menus = document.querySelector(`#menus`);

        //loading icon code
        const loadDiv = document.createElement(`div`);
        loadDiv.setAttribute(`id`, `load`);
        menus.appendChild(loadDiv);
     
        const startMenu = document.createElement(`div`);
        startMenu.setAttribute(`id`, `start`);
        startMenu.style.opacity =`0`;
        
        const startButton = document.createElement(`button`);
        startButton.appendChild(document.createTextNode(`start`));
        startMenu.appendChild(startButton)

        const highScores = document.createElement(`div`);
        highScores.setAttribute(`id`, `high-scores`);

        //createElement - div, with id of start-options
        const stOpt = document.createElement(`div`)
        stOpt.setAttribute(`id`,`start-options`)
        stOpt.setAttribute(`data-load`,`true`)
        menus.appendChild(stOpt)

        //createElement - button, new game
        //data load -false
        const newGameBtn = document.createElement(`button`)
        newGameBtn.appendChild(document.createTextNode(`New Game`))
        newGameBtn.setAttribute(`data-load`,`false`)
        //newGameBtn.setAttribute(`data-load`,`false`)
        stOpt.appendChild(newGameBtn)

        //createElement - button, continue
        //data load - true
        const continueBtn = document.createElement(`button`)
        continueBtn.appendChild(document.createTextNode(`Continue`))
        continueBtn.setAttribute(`data-load`,`true`)
        stOpt.appendChild(continueBtn)

        //createElement - button, high scores
        const highBtn = document.createElement(`button`)
        highBtn.appendChild(document.createTextNode(`High Scores`))
        stOpt.appendChild(highBtn)

        //if (10 < 30)
        //{
        menus.removeChild(stOpt)
            
        //}

        /*
        
        In this assignment three event listeners will be added to the new buttons:

        new (game) will redirect to the lobby.html

        continue will redirect to the lobby.html

        highscore will redirect to the hs.html

        
        Instructions:
        1. add click events to the !new! and !continue! buttons
            -upon click each button will set

            window.location = `lobby.html?${e.target.dataset.load}`
        2. add a click event to the highscore button
            -upon click navigate to the highscore page using
            -window.location
        
        
        */

        var timer = setTimeout(loadStartMenu, 1000);
        function loadStartMenu(){
            $(`#load`).animate({opacity: 0}, 2000, function() {
                menus.removeChild(loadDiv)
                menus.appendChild(startMenu)
                $(`#start`).animate({opacity: 1}, 2000);
            });
        }

        startButton.addEventListener(`click`, (e)=>{
            console.log(`hi`)

            //menus.removeChild(startMenu)
            //menus.appendChild(stOpt)

            $(`#start`).animate({opacity: 0}, 1000, function(){
                menus.removeChild(startMenu)
                menus.appendChild(stOpt)

                $(`#start-options`).animate({opacity: 1}, 3000)

                //window.location = `pong.html`
            });
            //menus.removeChild(startMenu)
            //menus.appendElement(stOpt)
        })

        //add three (new) event listeners
        //for:
        //newGameBtn
        //continueBtn
        //highBtn

        newGameBtn.addEventListener(`click`, (e)=>{

            //stuff in here
            
            //will redirect to the lobby.html (page)

            window.location = `lobby.html?load=${e.target.dataset.load}`
        })

        continueBtn.addEventListener(`click`, (e)=>{

            //stuff in here

            //will redirect to the lobby.html page


            //load=$

            window.location = `lobby.html?load=${e.target.dataset.load}`

            //console.log("is this working? ")
        })

        highBtn.addEventListener(`click`, (e)=>{
            
            //stuff in here

            //highscore will redirect to the hs.html page

            window.location = `hs.html`

            //console.log("a log happy water tree")
        })

        //use createElement and appendElement to make the menu
        //(that) reflects what the commented
        //html looks like

        //when the start button is pressed:
        //1. remove the start menu
        //2. append the new menu


        /*
        
        in this assigment students will grab the load parameter from the url and display it in an alert

        instructions:

        1. use the following code to get the parameter from the URL:

        let params = (new URL(document.location)).serachParams
        
        let name = params.get("load")

        alert(name)

        ---------------------
        NOTE: you should see the word `true`
        
        */
        
        
        



    </script>
</body>
</html>